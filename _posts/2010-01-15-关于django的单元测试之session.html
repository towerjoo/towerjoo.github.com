--- 
layout: post
tags: []

type: post
meta: 
  _encloseme: "1"
published: true
title: 关于Django的单元测试之session

status: publish
category: tech
---
<span class="Apple-style-span" style="font-family: Sans; line-height: normal; font-size: medium; "><h1 class="title" style="text-align: center; ">关于Django的单元测试之session</h1><p>本博客所有内容采用&nbsp;<a class="reference external" href="http://creativecommons.org/about/licenses/meet-the-licenses" target="_blank">Creative Commons Licenses</a>&nbsp;许可使用. 引用本内容时，请保留&nbsp;<a class="reference external" href="http://sites.google.com/site/towerjoo" target="_blank">朱涛</a>,&nbsp;<a class="reference external" href="http://www.cnblogs.com/mindsbook" target="_blank">出处</a>&nbsp;，并且&nbsp;<strong>非商业</strong>&nbsp;.</p><p>点击&nbsp;<a class="reference external" href="http://feed.feedsky.com/MindsbookTowerJoo" target="_blank">订阅</a>&nbsp;来订阅本博客.(推荐使用&nbsp;<a class="reference external" href="http://reader.google.com/" target="_blank">google reader</a>, 如果你的浏览器不支持直接订阅,请直接在&nbsp;<a class="reference external" href="http://reader.google.com/" target="_blank">google reader</a>&nbsp;中手动添加).</p><p>点击&nbsp;<a class="reference external" href="http://cn.drop.io/download/4b505764/3f2ef96636f6037995ae5d23d1c231ead58770af/94d68560-e3f9-012c-720c-ffe5f39c2f49/97c42820-e3f9-012c-a999-f4d9d7fd044b/v2/original_content" target="_blank">下载pdf阅读</a>&nbsp;(如果浏览器不支持直接打开,请点击右键另存)</p><div class="section" id="id1"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id19" style="text-decoration: none; color: black; " target="_blank">摘要</a></h1><div class="contents topic" id="contents" style="margin-top: 2em; margin-right: 2em; margin-bottom: 2em; margin-left: 2em; "><p class="topic-title first" style="margin-top: 0px !important; font-weight: bold; ">Contents</p><ul class="simple" style="margin-bottom: 1em; "><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id1" id="id19" target="_blank">摘要</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id2" id="id20" target="_blank">引入</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id3" id="id21" target="_blank">简单示例</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id4" id="id22" target="_blank">相关的知识</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id5" id="id23" target="_blank">django的session</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#session" id="id24" target="_blank">单元测试中的session</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id6" id="id25" target="_blank">结论</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id7" id="id26" target="_blank">后记</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id8" id="id27" target="_blank">参考资料</a></li><li><a class="reference internal" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id9" id="id28" target="_blank">本文的源码</a></li></ul></div><p>本文主要介绍如何在django的单元测试中模拟,更改session来完成测试的目的.</p></div><div class="section" id="id2"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id20" style="text-decoration: none; color: black; " target="_blank">引入</a></h1><p>不知道读者是否写&nbsp;<a class="reference external" href="http://en.wikipedia.org/wiki/Unit_testing" target="_blank">单元测试</a>, 是否使用&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;,但是作为&nbsp;<a class="reference external" href="http://en.wikipedia.org/wiki/Agile_software_development" target="_blank">敏捷开发</a>&nbsp;重要方法的&nbsp;<a class="reference external" href="http://en.wikipedia.org/wiki/Test-driven_development" target="_blank">测试驱动开发</a>&nbsp;(TDD)最为强调测试, 甚至极端到先测试后程序的地步, 我个人不是TDD的热烈粉丝,我只是做出一种适合自己的开发模式--关键逻辑的单元测试.</p><p>回到&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;可能会有人说&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;已经有了&nbsp;<a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/testing/" target="_blank">完整的测试框架</a>, 有doctest和unittest两种模型的测试, 这倒是不假, 不过, 测试不仅局限于业务逻辑的测试(读写数据库),还包括应用逻辑的测试(模拟浏览器请求等),而且往往后者更加重要和复杂, 还好&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;有相应的封装和基础构件,所以处理起来也还是比较方便的.</p><p>我们很愉快地使用着&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;的测试框架,直到一天,我们开始不再使用&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;内置的用户验证系统,而是使用session来维持一个 用户的登录状态,这便涉及到了本文的论题,即:</p><p><strong>如何在单元测试中测试,修改django的session?</strong></p><p>说明,</p><ol class="arabic simple" style="margin-bottom: 1em; list-style-type: decimal; list-style-position: initial; list-style-image: initial; "><li>如果文中没有特别说明,所有的session都是采用存储在数据库中的方式.</li><li>存储于用户本地浏览器中的cookie的key不一定是"sessionid",取决于用户在settings.py中的设置, 但是这个值是默认的</li></ol></div><div class="section" id="id3"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id21" style="text-decoration: none; color: black; " target="_blank">简单示例</a></h1><p>有如下的一段代码:</p><div class="highlight"><pre><span style="color: #008000; font-weight: bold; ">def</span> <span style="color: #0000ff; ">setUp</span>(<span style="color: #008000; ">self</span>):
    <span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client <span style="color: #666666; ">=</span> Client()
    <span style="color: #408080; font-style: italic; "># 请求首页后，会建立相应的user和session, 此处只是为了enable session</span>
    <span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client<span style="color: #666666; ">.</span>get(reverse(<span style="color: #ba2121; ">"game_main"</span>))   <span style="color: #408080; font-style: italic; ">#假设得到的session为  self.client.session['player'] = "demo1"</span>
    <span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client<span style="color: #666666; ">.</span>session[<span style="color: #ba2121; ">'player'</span>] <span style="color: #666666; ">=</span> <span style="color: #ba2121; ">"demo2"</span> <span style="color: #408080; font-style: italic; ">#试图更新session</span>
    <span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>assertEquals(<span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client<span style="color: #666666; ">.</span>session<span style="color: #666666; ">.</span>get(<span style="color: #ba2121; ">"player"</span>, <span style="color: #ba2121; ">"demo2"</span>)    <span style="color: #408080; font-style: italic; ">#在单元测试执行时会出错</span>
    <span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>player <span style="color: #666666; ">=</span> <span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client<span style="color: #666666; ">.</span>session<span style="color: #666666; ">.</span>get(<span style="color: #ba2121; ">'player'</span>, <span style="color: #008000; ">None</span>)
</pre></div><p>如上的代码中,试图使用&nbsp;<cite>self.client.session['player'] = some_player</cite>&nbsp;来修改session的值,但是在运行单元测试时会出错.</p><p>第一次尝试失败!</p><p>第二次,我们试图为session重新赋值后,再存储下, 即添加一行&nbsp;<cite>self.client.session.save()</cite>,很可惜,依旧失败!</p><p>于是只好hack源码了, 我尝试跟踪了相关的单元测试的源码,终于通过下面的方法解决了:</p><div class="highlight"><pre><span style="color: #008000; font-weight: bold; ">def</span> <span style="color: #0000ff; ">_set_player_session</span>(<span style="color: #008000; ">self</span>, player<span style="color: #666666; ">=</span><span style="color: #008000; ">None</span>):
    <span style="color: #ba2121; font-style: italic; ">"""</span>
<span style="color: #ba2121; font-style: italic; ">    hack the session code to change it to the right one</span>
<span style="color: #ba2121; font-style: italic; ">    """</span>
    <span style="color: #008000; font-weight: bold; ">from</span> <span style="color: #0000ff; font-weight: bold; ">django.contrib.sessions.models</span> <span style="color: #008000; font-weight: bold; ">import</span> Session
    <span style="color: #008000; font-weight: bold; ">from</span> <span style="color: #0000ff; font-weight: bold; ">django.contrib.sessions.backends.db</span> <span style="color: #008000; font-weight: bold; ">import</span> SessionStore
    session <span style="color: #666666; ">=</span> Session<span style="color: #666666; ">.</span>objects<span style="color: #666666; ">.</span>get(pk<span style="color: #666666; ">=</span><span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client<span style="color: #666666; ">.</span>cookies[<span style="color: #ba2121; ">'sessionid'</span>]<span style="color: #666666; ">.</span>value)
    newsession <span style="color: #666666; ">=</span> {<span style="color: #ba2121; ">"player"</span> : player }
    session<span style="color: #666666; ">.</span>session_data <span style="color: #666666; ">=</span> SessionStore()<span style="color: #666666; ">.</span>encode(newsession)
    session<span style="color: #666666; ">.</span>save()
</pre></div><p>在上面的hack中,其实就是我们显式地去取出session,更改,再存储,所有的操作都是低层的修改.</p><p>注意上面的hack假设你将session设置为存储在db中,存储于内存,文件等其它方式类似.</p></div><div class="section" id="id4"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id22" style="text-decoration: none; color: black; " target="_blank">相关的知识</a></h1><p>为了更好地理解整个操作,我们来研究下&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;的相关机制.</p></div><div class="section" id="id5"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id23" style="text-decoration: none; color: black; " target="_blank">django的session</a></h1><p>请参考&nbsp;<a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/http/sessions/" target="_blank">django session</a>&nbsp;部分.</p><p>重要点总结如下:</p><ol class="arabic simple" style="margin-bottom: 1em; list-style-type: decimal; list-style-position: initial; list-style-image: initial; "><li>session可以存储在数据库,内存,文件中</li><li>对于来自一个请求的用户,只使用一个session记录(准确地说,就是来自同一个浏览器,因为在浏览器中记录有sessionid),而session的值是一个序列化的字典</li><li>需要浏览器cookie的支持</li></ol><p>我们来看看,假如我在一个request的view中设置了如下2个session:</p><pre class="literal-block" style="margin-left: 2em; margin-right: 2em; ">request.session['user'] = "zhutao"
request.session['last_login_time'] = "256525850"
</pre><p>那么,当一个用户请求这个view时,django会为其浏览器存储一个名字为"sessionid"的字符串,如:&nbsp;<strong>b2db4c1a01286c0b175dfad873b57b37</strong>.</p><p>这个sessionid同时也存储在数据库中作为session_key,来索引某个浏览器的session.而在数据库中, django会把session的值以字典的形式的序列化 方式存储于数据库中,简单的可理解为:</p><pre class="literal-block" style="margin-left: 2em; margin-right: 2em; ">session_data = 序列化({"user" : "zhutao", "last_login_time" : "256525850"})
</pre><p>例如可能得到这样一个序列化后的字符串:</p><pre class="literal-block" style="margin-left: 2em; margin-right: 2em; ">gAJ9cQEoVQR0ZXN0cQJVBnpodXRhb3EDVQZwbGF5ZXJxBGNhcHBzLm1lbWJlci5tb2RlbHMKTWVtnYmVyCnEFKVJxBn1xByhVDGNoYXJhY3Rlcl9pZHEISwFVDmNoYXJhY3Rlcl90eXBlcQlYAQAAAEhVnEm1pc3Npb25zX2NvbXBsZXRlZHEKS/dVCGNvb2xuZXNzcQtLYVULbWF4X3N0YW1pbmFxDEt4VQh0nZWFtc2l6ZXENS+JVCG51bV9raWxscQ5NoQFVCm1heF9oZWFsdGhxD0t4VQJpZHEQSwJVB3N0YW1pnbmFxEUvGVQpudW1fa2lsbGVkcRJLm1UGaGVhbHRocRNN4QFVA3dpbnEUS29VB2ltZ191cmxxFVgAnAAAAVQptYXhfc3Bpcml0cRZLHlUQY3VycmVudF9wYXJ0eV9pZHEXSwBVBnNuc19pZHEYSwJVBnNwnaXJpdHEZS0pVBGxvc3NxGkt8VQRuYW1lcRtYBQAAAGRlbW8ycRxVBWxldmVscR1LAVUGZ2VuZGVyncR5YAQAAAE1VBGNhc2hxH006AVUKZXhwZXJpZW5jZXEgS6hVEWN1cnJlbnRfY2hhcmFjdGVycSFLnAVUMZGF0ZV9jcmVhdGVkcSJjZGF0ZXRpbWUKZGF0ZXRpbWUKcSNVCgfZCxwDIS4AAACFUnEkVQdonb3RuZXNzcSVN3QF1YnUuNjI5YjVmYzc1MTFkNzJkMmE2NDVlNjg4ODg2MjQ5MjQ=n
</pre><p>然后,当你去获取相应的session的值时, django会:</p><ol class="arabic simple" style="margin-bottom: 1em; list-style-type: decimal; list-style-position: initial; list-style-image: initial; "><li>从你的cookie中取出名为sessionid的cookie值</li><li>将取到的cookie值来作为key来查询相应的数据库记录,即session_data</li><li>django对取到的session_data进行反序列化,得到了相应的字典</li><li>此时用户可以很简单地获得相应的值</li></ol><p>几个细节:</p><p><strong>关于session的序列化</strong></p><div class="highlight"><pre>pickled <span style="color: #666666; ">=</span> pickle<span style="color: #666666; ">.</span>dumps(session_dict) <span style="color: #408080; font-style: italic; ">#使用pickle来序列化session的字典</span>
pickled_md5 <span style="color: #666666; ">=</span> md5<span style="color: #666666; ">.</span>new(pickled <span style="color: #666666; ">+</span> settings<span style="color: #666666; ">.</span>SECRET_KEY)<span style="color: #666666; ">.</span>hexdigest()    <span style="color: #408080; font-style: italic; ">#使用md5进行加密,注意key是pickle过的字符串和settings.SECRET_KEY,后者通常只有你知道</span>
</pre></div><p><strong>关于session的反序列化</strong></p><p>知道SECRET_KEY后会很容易得到相应的反序列化的原始字典,所以&nbsp;<strong>settings.SECRET_KEY</strong>&nbsp;是非常重要的.</p><p><strong>关于sessionid的生成</strong></p><div class="highlight"><pre><span style="color: #008000; font-weight: bold; ">def</span> <span style="color: #0000ff; ">_get_new_session_key</span>(<span style="color: #008000; ">self</span>):

      <span style="color: #ba2121; ">"Returns session key that isn't being used."</span>
      <span style="color: #408080; font-style: italic; "># The random module is seeded when this Apache child is created.</span>
      <span style="color: #408080; font-style: italic; "># Use settings.SECRET_KEY as added salt.</span>
      <span style="color: #008000; font-weight: bold; ">try</span>:
          pid <span style="color: #666666; ">=</span> os<span style="color: #666666; ">.</span>getpid()
      <span style="color: #008000; font-weight: bold; ">except</span> <span style="color: #d2413a; font-weight: bold; ">AttributeError</span>:
          <span style="color: #408080; font-style: italic; "># No getpid() in Jython, for example</span>
          pid <span style="color: #666666; ">=</span> <span style="color: #666666; ">1</span>
      <span style="color: #008000; font-weight: bold; ">while</span> <span style="color: #666666; ">1</span>:
          session_key <span style="color: #666666; ">=</span> md5<span style="color: #666666; ">.</span>new(<span style="color: #ba2121; ">"</span><span style="color: #bb6688; font-weight: bold; ">%s%s%s%s</span><span style="color: #ba2121; ">"</span> <span style="color: #666666; ">%</span> (random<span style="color: #666666; ">.</span>randint(<span style="color: #666666; ">0</span>, sys<span style="color: #666666; ">.</span>maxint <span style="color: #666666; ">-</span> <span style="color: #666666; ">1</span>),
                                pid, time<span style="color: #666666; ">.</span>time(), settings<span style="color: #666666; ">.</span>SECRET_KEY))<span style="color: #666666; ">.</span>hexdigest()
          <span style="color: #008000; font-weight: bold; ">if</span> <span style="color: #aa22ff; font-weight: bold; ">not</span> <span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>exists(session_key):
              <span style="color: #008000; font-weight: bold; ">break</span>
      <span style="color: #008000; font-weight: bold; ">return</span> session_key
</pre></div><p>这是位于&nbsp;<cite>django.contrib.sessions.backend.base.py</cite>&nbsp;中的代码,能够看到, 生成的sessionid是table唯一的,且使用md5加密的.</p><p><strong>关于session的失效</strong></p><p>在session的数据库中,只有4个字段即:&nbsp;<em>id</em>,&nbsp;<em>session_key</em>,&nbsp;<em>session_data</em>,&nbsp;<em>expire_date</em>, 而且在向用户的浏览器 写入cookie时,同样会设置相应的&nbsp;<em>expire_date</em>, 那么在查找相应的session时:</p><ol class="arabic simple" style="margin-bottom: 1em; list-style-type: decimal; list-style-position: initial; list-style-image: initial; "><li>如果客户端没有了sessionid的cookie, 则说明session已经失效(失效后的动作,如引导到登录页面等)</li><li>如果客户端没有失效, 而数据库中的expire_date已经到期,则同样说明session失效(防止恶意修改cookie)</li><li>甚至你可以手动地去删除某个session,从而导致session失效</li></ol></div><div class="section" id="session"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id24" style="text-decoration: none; color: black; " target="_blank">单元测试中的session</a></h1><p>在&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;的测试组件中有TestClient来作为测试的基础类,其中提供Client.session来模板运行时的session,但是二者又不完全相同, 主要差别有:</p><ol class="arabic simple" style="margin-bottom: 1em; list-style-type: decimal; list-style-position: initial; list-style-image: initial; "><li>TestClient不是与request.session对等的</li><li>TestClient中的session并不能自动完成相应的session的DB存储, 所以需要像上面的示例中的手动存储</li></ol><p>所以要在单元测试中操作session,需要:</p><ol class="arabic simple" style="margin-bottom: 1em; list-style-type: decimal; list-style-position: initial; list-style-image: initial; "><li>得到当前的sessionid(从cookie中得到)</li><li>查相应的session表,取得相应的对象,修改后,重新存储</li></ol></div><div class="section" id="id6"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id25" style="text-decoration: none; color: black; " target="_blank">结论</a></h1><p><a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;的单元测试并不完善,特别是session,需要额外的工作来完成相关的工作, 另外, 从session的工作原理来看,&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;的session安全性主要取决于session_dict和SECRET_KEY两个,所以要特别注意自己的SECRET_KEY.</p></div><div class="section" id="id7"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id26" style="text-decoration: none; color: black; " target="_blank">后记</a></h1><p>其实我个人比较希望单元测试的session和view中的session操作能够完全相同,如:</p><div class="highlight"><pre><span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client<span style="color: #666666; ">.</span>session[<span style="color: #ba2121; ">'player'</span>] <span style="color: #666666; ">=</span> <span style="color: #ba2121; ">"demo1"</span>  <span style="color: #408080; font-style: italic; ">#创建</span>
<span style="color: #008000; font-weight: bold; ">del</span> <span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client<span style="color: #666666; ">.</span>session[<span style="color: #ba2121; ">'player'</span>]   <span style="color: #408080; font-style: italic; "># 删除</span>
<span style="color: #008000; ">self</span><span style="color: #666666; ">.</span>client<span style="color: #666666; ">.</span>session[<span style="color: #ba2121; ">'player'</span>] <span style="color: #666666; ">=</span> <span style="color: #ba2121; ">"demo2"</span>  <span style="color: #408080; font-style: italic; ">#更新</span>
</pre></div><p>后续我会向&nbsp;<a class="reference external" href="http://djangoproject.com/" target="_blank">django</a>&nbsp;提出一个ticket(其实已经有了), 并且提供相应的patch.</p></div><div class="section" id="id8"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id27" style="text-decoration: none; color: black; " target="_blank">参考资料</a></h1><ol class="arabic simple" style="margin-bottom: 1em; list-style-type: decimal; list-style-position: initial; list-style-image: initial; "><li><a class="reference external" href="http://en.wikipedia.org/wiki/Session_(computer_science)#HTTP_session_token" target="_blank">session</a></li><li><a class="reference external" href="http://djangoproject.com/" target="_blank">django</a></li><li><a class="reference external" href="http://www.stereoplex.com/2007/nov/7/cookieless-django-sessions-and-authentication-with/" target="_blank">Cookieless Django Sessions and authentication without cookies</a></li></ol></div><div class="section" id="id9"><h1><a class="toc-backref" href="http://www.cnblogs.com/mindsbook/admin/EditPosts.aspx?postid=1648767#id28" style="text-decoration: none; color: black; " target="_blank">本文的源码</a></h1><p>本文的rst源码链接在&nbsp;<a class="reference external" href="http://cn.drop.io/download/4b505797/44fc2405ce8d4781761479717331f16226c670b5/94d68560-e3f9-012c-720c-ffe5f39c2f49/1c294c10-e3fa-012c-47b6-f85af4b26eb3/v2/original_content" target="_blank">这里</a>&nbsp;.</p><p>点击&nbsp;<a class="reference external" href="http://cn.drop.io/download/4b505764/3f2ef96636f6037995ae5d23d1c231ead58770af/94d68560-e3f9-012c-720c-ffe5f39c2f49/97c42820-e3f9-012c-a999-f4d9d7fd044b/v2/original_content" target="_blank">下载pdf阅读</a>&nbsp;(如果浏览器不支持直接打开,请点击右键另存)</p></div></span>
